# マイグレーションはデータベースごとに適用する必要がある
オプションなしだと開発環境のみに適用される。  
本番環境用
```
$ rails db:migrate RAILS_ENV=production  
```  
テスト用  
```
$ rails db:migrate RAILS_ENV=test  
```  

# schema.rb  
現在のデータベース構造が自動的に出力されているファイル  

# ノーマルのmigrate以外
バージョンを指定してもそのマイグレーションだけが適用されるのではなく
その時点のマイグレーションが適用される。  
## 指定したバージョンまでのマイグレーションが適用される  
```  
$ rails db:migrate VERSION=YYYYMMDDHHMMSS  
```  
## バージョンを戻して上げるという動作を一気に行う
```  
$ rails db:migrate:redo  
```  
STEPで指定可能。  
結果としては通常のマイグレートと一緒。  
新しいマイグレーションファイルを作らなくてもいいか～というときの
ショートカットとして使える。  
その場合既に作られたマイグレーションファイルに書き込みredoする。  
## 現在のマイグレーションから戻す
```  
$ bin/rails db:rollback STEP=n  
```  
STEPでいくつのマイグレーションを戻すのか指定できる。
デフォルトは1。  

# persisted?
DBに保存済みか確認できるメソッド。
trueなら保存済み。  

--20221114, 20221120